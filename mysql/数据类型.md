# 数据类型优化

<!-- toc -->

## 主键
* 优先使用整形的主键
* 尽量不要使用 string 类型的主键
* 如果使用 UUID，应该移除 `-` 号，或者使用 UNHEX 函数转换为 16 字节的整数，并存储在 BINARY(16)，检索时通过 HEX() 函数格式化16进制格式

## 设计中的陷阱
* 太多的列 - Mysql 的server 和存储引擎之间通过 row buffer 的格式传递数据，然后 server 在将缓冲内容解码为各个列，这个过程的消耗时比较大的，列越多就会越影响程序性能。
* 太多的 join - 单个查询最好在 12 个表以内做关联
* 慎用枚举
* 对于未知值使用 NULL
